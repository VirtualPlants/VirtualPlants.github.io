<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>core.plugin package &mdash; OpenAlea community website</title>
    
    <link rel="stylesheet" href="../../../../../_static/virtualplants.css" type="text/css" />
    <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../../../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../../../_static/doctools.js"></script>
    <link rel="top" title="OpenAlea community website" href="../../../../../index.html" />
    <link rel="up" title="core package" href="core.html" />
    <link rel="next" title="core.project package" href="core.project.html" />
    <link rel="prev" title="core.interpreter package" href="core.interpreter.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="core.project.html" title="core.project package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="core.interpreter.html" title="core.interpreter package"
             accesskey="P">previous</a> |</li>
        <li><a href="../../../../../index.html">OpenAlea community website</a> &raquo;</li>
          <li><a href="../../index.html" >OpenAleaLab API and concepts</a> &raquo;</li>
          <li><a href="core.html" accesskey="U">core package</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="core-plugin-package">
<h1>core.plugin package<a class="headerlink" href="#core-plugin-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-core.plugin.applet">
<span id="core-plugin-applet-module"></span><h2>core.plugin.applet module<a class="headerlink" href="#module-core.plugin.applet" title="Permalink to this headline">¶</a></h2>
<div class="section" id="applets">
<h3>Applets<a class="headerlink" href="#applets" title="Permalink to this headline">¶</a></h3>
<div class="section" id="overview">
<h4>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<dl class="last docutils">
<dt>To define an applet plugin, you must</dt>
<dd><ol class="first last arabic simple">
<li>write an AppletPlugin class that respects IPluginApplet interface (see below)</li>
<li>add it to group <em class="dfn">oalab.applet</em></li>
</ol>
</dd>
</dl>
</div>
<p>1. Copy paste this code and fill it with right names and instructions.
(replace all xyz, respecting case, with your applet name).
For example Xyz -&gt; HelpApplet</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">PluginXyz</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;Xyz&#39;</span>
    <span class="n">alias</span> <span class="o">=</span> <span class="s">&#39;Xyz&#39;</span>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Write your code here</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">graft</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
        <span class="c"># Write your code here</span>
        <span class="k">pass</span>
</pre></div>
</div>
<p>To avoid to rewrite all plugins from scratch, you can derivate your plugin from
<a class="reference internal" href="../oalab/openalea.oalab.plugins.applets.html#openalea.oalab.plugins.applets.PluginApplet" title="openalea.oalab.plugins.applets.PluginApplet"><tt class="xref py py-class docutils literal"><span class="pre">PluginApplet</span></tt></a> :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">openalea.oalab.plugins.applets</span> <span class="kn">import</span> <span class="n">PluginApplet</span>
<span class="k">class</span> <span class="nc">PluginXyz</span><span class="p">(</span><span class="n">PluginApplet</span><span class="p">):</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p>2. Once this class has been written, just register it in the setup.py file of
your python package.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">entry_points</span><span class="o">=</span><span class="p">{</span>
    <span class="s">&#39;oalab.applet&#39;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s">&#39;Xyz = mypackage.plugins:PluginXyz&#39;</span><span class="p">,</span>
        <span class="p">]</span>
    <span class="p">}</span>
</pre></div>
</div>
<p>With <strong>mypackage.plugins</strong> python module path (equivalent to 'mypackage/plugins.py') and
'PluginXyz' the class name.</p>
</div>
<div class="section" id="example">
<h4>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h4>
<p>The module called oalab.gui.help provides this help widget:</p>
<div class="highlight-python"><div class="code-block-filename"><tt>oalab/gui/help.py</tt></div><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">openalea.vpltk.qt</span> <span class="kn">import</span> <span class="n">QtGui</span>

<span class="k">class</span> <span class="nc">HelpWidget</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QWidget</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">openWeb</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">):</span>
        <span class="c"># Specific to this applet</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">actions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># optionnal, common to all applets</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># optionnal, common to all applets</span>
        <span class="k">pass</span>
</pre></div>
</td></tr></table></div>
<p>OpenAleaLab is the main application that gather all widgets.
We want to add HelpWidget in the MainWindow and allow communication between both classes.
For that purpose, we create a Plugin called HelpWidgetPlugin in helper package:</p>
<div class="highlight-python"><div class="code-block-filename"><tt>helper/plugins/oalab/helpwidget.py</tt></div><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">class</span> <span class="nc">HelpWidgetPlugin</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c"># Data that describe plugin</span>
    <span class="p">}</span>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Import widget and return it</span>
        <span class="kn">from</span> <span class="nn">mypackage</span> <span class="kn">import</span> <span class="n">MyApplet</span>
        <span class="k">return</span> <span class="n">MyApplet</span>

    <span class="k">def</span> <span class="nf">graft</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
        <span class="c"># 1. Ask to mainwindow to place it</span>
        <span class="c"># 2. Fill menus, actions, toolbars, ...</span>

        <span class="c"># 1.</span>
            <span class="n">mainwindow</span><span class="o">.</span><span class="n">add_applet</span><span class="p">(</span><span class="n">applet</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">alias</span><span class="p">,</span> <span class="n">area</span><span class="o">=</span><span class="s">&#39;inputs&#39;</span><span class="p">)</span>

        <span class="c"># 2.</span>
        <span class="k">if</span> <span class="n">applet</span><span class="o">.</span><span class="n">actions</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">action</span> <span class="ow">in</span> <span class="n">applet</span><span class="o">.</span><span class="n">actions</span><span class="p">():</span>
                <span class="c"># Add actions in PanedMenu</span>
                <span class="n">mainwindow</span><span class="o">.</span><span class="n">menu</span><span class="o">.</span><span class="n">addBtnByAction</span><span class="p">(</span><span class="o">*</span><span class="n">action</span><span class="p">)</span>

                <span class="c"># add action in classical menu</span>
                <span class="n">pane_name</span><span class="p">,</span> <span class="n">group_name</span><span class="p">,</span> <span class="n">act</span><span class="p">,</span> <span class="n">btn_type</span> <span class="o">=</span> <span class="n">action</span>
                <span class="n">mainwindow</span><span class="o">.</span><span class="n">add_action_to_existing_menu</span><span class="p">(</span><span class="n">action</span><span class="o">=</span><span class="n">act</span><span class="p">,</span> <span class="n">menu_name</span><span class="o">=</span><span class="n">pane_name</span><span class="p">,</span> <span class="n">sub_menu_name</span><span class="o">=</span><span class="n">group_name</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>It is very important to notice that adding widget in the right area is done by
the plugin, not the application. Application does almost nothing, it is just
a container of widgets. Real application intelligence is delegated to Plugins
(placing and linking components) and components (doing real treatments).</p>
<p>Finally, we register this plugin in setup.py of package helper.</p>
<div class="highlight-python"><div class="code-block-filename"><tt>helper/setup.py</tt></div><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span class="n">setup</span><span class="p">(</span>
    <span class="c"># setup instructions</span>

    <span class="n">entry_points</span> <span class="o">=</span> <span class="p">{</span>
<span class="hll">        <span class="s">&#39;oalab.applet&#39;</span><span class="p">:</span>                                                  <span class="c"># Plugin category</span>
</span>            <span class="p">[</span>
<span class="hll">            <span class="s">&#39;HelpWidgetPlugin = helper.plugins.oalab:HelpWidgetPlugin&#39;</span>   <span class="c"># Plugin name = path to plugin (factory)</span>
</span>            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">)</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="details">
<h4>Details<a class="headerlink" href="#details" title="Permalink to this headline">¶</a></h4>
<dl class="class">
<dt id="openalea.oalab.plugins.applets.PluginApplet">
<em class="property">class </em><tt class="descclassname">openalea.oalab.plugins.applets.</tt><tt class="descname">PluginApplet</tt><a class="reference internal" href="../../../../../_modules/openalea/oalab/plugins/applets.html#PluginApplet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#openalea.oalab.plugins.applets.PluginApplet" title="Permalink to this definition">¶</a></dt>
<dd><p>Partial implementation of a plugin applet.
You can use it by derivating your class from PluginApplet.</p>
</dd></dl>

<dl class="class">
<dt id="core.plugin.applet.IApplet">
<em class="property">class </em><tt class="descclassname">core.plugin.applet.</tt><tt class="descname">IApplet</tt><span class="sig-paren">(</span><em>**kargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/core/plugin/applet.html#IApplet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#core.plugin.applet.IApplet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../../../../../openalea/core/doc/user/autosum.html#openalea.core.interface.IInterface" title="openalea.core.interface.IInterface"><tt class="xref py py-class docutils literal"><span class="pre">openalea.core.interface.IInterface</span></tt></a></p>
<p>Autonomous Graphical component</p>
<dl class="method">
<dt id="core.plugin.applet.IApplet.actions">
<tt class="descname">actions</tt><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/core/plugin/applet.html#IApplet.actions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#core.plugin.applet.IApplet.actions" title="Permalink to this definition">¶</a></dt>
<dd><p>Optional: list of all actions available for this applet
See original QtGui.QWidget.actions method.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># instructions written in constructor</span>
<span class="n">action_new</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="s">&#39;New&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">action_new</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="core.plugin.applet.IApplet.global_toolbar_actions">
<tt class="descname">global_toolbar_actions</tt><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/core/plugin/applet.html#IApplet.global_toolbar_actions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#core.plugin.applet.IApplet.global_toolbar_actions" title="Permalink to this definition">¶</a></dt>
<dd><p>Optional: list of actions to use in main toolbar.
See toolbar</p>
<p>..warning:</p>
<div class="highlight-python"><div class="highlight"><pre>these actions must have a global effect as they are added only one time in application.
For example, if you add two time applet &quot;Viewer3D&quot;, menu_actions are added only one time.

To get global effects, action cat ...
    - manipulate core managers directly
    - manipulate singleton
    - iter on all applets of same type and apply effect on each

A contextual menu is also generated dynamically for current applet, see toolbar_actions, menu_actions
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="core.plugin.applet.IApplet.initialize">
<tt class="descname">initialize</tt><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/core/plugin/applet.html#IApplet.initialize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#core.plugin.applet.IApplet.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Optional method, called after instantiation</p>
</dd></dl>

<dl class="method">
<dt id="core.plugin.applet.IApplet.menu_actions">
<tt class="descname">menu_actions</tt><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/core/plugin/applet.html#IApplet.menu_actions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#core.plugin.applet.IApplet.menu_actions" title="Permalink to this definition">¶</a></dt>
<dd><p>Optional: list of QAction/QMenu to use in contextual menu</p>
</dd></dl>

<dl class="method">
<dt id="core.plugin.applet.IApplet.menus">
<tt class="descname">menus</tt><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/core/plugin/applet.html#IApplet.menus"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#core.plugin.applet.IApplet.menus" title="Permalink to this definition">¶</a></dt>
<dd><p>Optional: list of QMenu to use in main menu</p>
</dd></dl>

<dl class="method">
<dt id="core.plugin.applet.IApplet.toolbar_actions">
<tt class="descname">toolbar_actions</tt><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/core/plugin/applet.html#IApplet.toolbar_actions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#core.plugin.applet.IApplet.toolbar_actions" title="Permalink to this definition">¶</a></dt>
<dd><p>Optional: list of actions to use in contextual toolbar</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">toolbar_actions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">action_new</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="s">&quot;New&quot;</span><span class="p">)</span>
    <span class="n">action_open</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="s">&quot;Open&quot;</span><span class="p">)</span>
    <span class="n">action_save</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="s">&quot;Save&quot;</span><span class="p">)</span>

    <span class="n">action_run</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="s">&quot;Run&quot;</span><span class="p">)</span>
    <span class="n">action_debug</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="s">&quot;Debug&quot;</span><span class="p">)</span>
    <span class="n">menu_run</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QMenu</span><span class="p">(</span><span class="s">&quot;Run&quot;</span><span class="p">)</span>
    <span class="n">menu_run</span><span class="o">.</span><span class="n">addActions</span><span class="p">([</span><span class="n">action_run</span><span class="p">,</span> <span class="n">action_debug</span><span class="p">])</span>

    <span class="n">actions</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">menu_run</span><span class="p">,</span> <span class="c"># Menu syntax (generally transformed as toolbutton)</span>
        <span class="n">action_new</span><span class="p">,</span> <span class="c"># Default syntax</span>
        <span class="p">{</span><span class="s">&#39;action&#39;</span><span class="p">:</span> <span class="n">action_open</span><span class="p">,</span> <span class="s">&#39;style&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">}</span> <span class="c"># Dict syntax</span>
    <span class="p">]</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">List syntax [&quot;Panel&quot;, &quot;Group&quot;, action, style] is now deprecated.
Use dict syntax instead</p>
</div>
</dd></dl>

<dl class="method">
<dt id="core.plugin.applet.IApplet.toolbars">
<tt class="descname">toolbars</tt><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/core/plugin/applet.html#IApplet.toolbars"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#core.plugin.applet.IApplet.toolbars" title="Permalink to this definition">¶</a></dt>
<dd><p>Optional: return a list of QToolBar</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="core.plugin.applet.IPluginApplet">
<em class="property">class </em><tt class="descclassname">core.plugin.applet.</tt><tt class="descname">IPluginApplet</tt><a class="reference internal" href="../../../../../_modules/core/plugin/applet.html#IPluginApplet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#core.plugin.applet.IPluginApplet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></a></p>
<p>Graphical component displayed in main window.
Component must respect <tt class="xref py py-class docutils literal"><span class="pre">IApplet</span></tt> interface.</p>
<dl class="method">
<dt id="core.plugin.applet.IPluginApplet.graft">
<tt class="descname">graft</tt><span class="sig-paren">(</span><em>**kwds</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/core/plugin/applet.html#IPluginApplet.graft"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#core.plugin.applet.IPluginApplet.graft" title="Permalink to this definition">¶</a></dt>
<dd><p>Load and instantiate graphical component that actually provide feature.
Then, place it in mainwindow (QMainWindow).</p>
</dd></dl>

<dl class="attribute">
<dt id="core.plugin.applet.IPluginApplet.alias">
<tt class="descname">alias</tt><em class="property"> = 'Applet alias'</em><a class="headerlink" href="#core.plugin.applet.IPluginApplet.alias" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="core.plugin.applet.IPluginApplet.name">
<tt class="descname">name</tt><em class="property"> = 'AppletName'</em><a class="headerlink" href="#core.plugin.applet.IPluginApplet.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
</div>
</div>
<div class="section" id="module-core.plugin.control">
<span id="core-plugin-control-module"></span><h2>core.plugin.control module<a class="headerlink" href="#module-core.plugin.control" title="Permalink to this headline">¶</a></h2>
<div class="section" id="control-advanced">
<h3>Control - Advanced<a class="headerlink" href="#control-advanced" title="Permalink to this headline">¶</a></h3>
<div class="section" id="widget">
<h4>Widget<a class="headerlink" href="#widget" title="Permalink to this headline">¶</a></h4>
<p>For a complete explanation of code to write for each function, or to create a class
from scratch, please have a look to <a class="reference internal" href="#core.plugin.control.IControlWidget" title="core.plugin.control.IControlWidget"><tt class="xref py py-class docutils literal"><span class="pre">IControlWidget</span></tt></a> and example after.</p>
<p>To create a class for standard QWidget, you can copy/paste this code</p>
<div class="highlight-python"><div class="code-block-filename"><tt>mypackage/plugins/widgets.py</tt></div><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">openalea.oalab.gui.control.widget</span> <span class="kn">import</span> <span class="n">AbstractQtControlWidget</span>
<span class="k">class</span> <span class="nc">XyzControlWidget</span><span class="p">(</span><span class="n">AbstractQtControlWidget</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">AbstractQtControlWidget</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">value_changed_signal</span> <span class="o">=</span> <span class="s">&#39;qt signal&#39;</span> <span class="c"># for example &#39;valueChanged()&#39;, &#39;currentTextChanged()&#39;, ...</span>

    <span class="k">def</span> <span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="n">REAL_VALUE</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setC1</span><span class="p">(</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;constraint1&#39;</span><span class="p">,</span> <span class="n">DEFAULT_CONSTRAINT1</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">setValue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>

    <span class="k">def</span> <span class="nf">value</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="widget-selector">
<h4>Widget selector<a class="headerlink" href="#widget-selector" title="Permalink to this headline">¶</a></h4>
<p>Here plugin is exactly the same as simple approach, except that it returns
XyzControlWidgetSelector instead of XyzControlWidget.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">openalea.oalab.plugin.control</span> <span class="kn">import</span> <span class="n">ControlWidgetSelectorPlugin</span>
<span class="kn">from</span> <span class="nn">openalea.deploy.shared_data</span> <span class="kn">import</span> <span class="n">shared_data</span>

<span class="k">class</span> <span class="nc">PluginXyzWidgetSelector</span><span class="p">(</span><span class="n">ControlWidgetSelectorPlugin</span><span class="p">):</span>

    <span class="n">controls</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;IXyz&#39;</span><span class="p">]</span> <span class="c"># Interface name like IInt</span>
    <span class="n">edit_shape</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;responsive&#39;</span><span class="p">]</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;XyzWidgetSelector&#39;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">mypackage.plugins.selectors</span> <span class="kn">import</span> <span class="n">XyzControlWidgetSelector</span>
        <span class="k">return</span> <span class="n">XyzControlWidgetSelector</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">See IInt example for real case</p>
</div>
</div>
<div class="section" id="iint-control-widget">
<h4>IInt control widget<a class="headerlink" href="#iint-control-widget" title="Permalink to this headline">¶</a></h4>
<p>All Qt sliders define &quot;value&quot; and &quot;setValue&quot; methods directly compatible with IInt (int),
so there is almost nothing to do:</p>
<dl class="docutils">
<dt>We will use these widgets depending on context:</dt>
<dd><ul class="first last simple">
<li>QDial for responsive, large and small shapes</li>
<li>QSlider for vline</li>
<li>QSpinBox for hline</li>
</ul>
</dd>
</dl>
<p>We define also a widget to edit constraints</p>
<p>Now, lets define widget selector to group all classes together :</p>
<p>You can notice in line 11, instruction to set widget to fit to vline shape.</p>
<p>And finally, lets define plugin that links to it.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">All classes can be defined in same file <strong>excepted last one</strong>.
PluginIntWidgetSelector must be defined in a separated file to allow to load only description.</p>
</div>
</div>
</div>
<div class="section" id="glossary">
<h3>Glossary<a class="headerlink" href="#glossary" title="Permalink to this headline">¶</a></h3>
<dl class="glossary docutils">
<dt id="term-create-mode">create mode</dt>
<dd>Users want to create a control from scratch.
In other words, it can be considered as &quot;write-only&quot; widget.</dd>
<dt id="term-view-mode">view mode</dt>
<dd>Users want to visualize a control. If control value changes, users may want to see changes.
In other words, it can be considered as a &quot;read-only&quot; with option to enable <a class="reference internal" href="#term-auto-read-mode"><em class="xref std std-term">auto-read mode</em></a>.</dd>
<dt id="term-edit-mode">edit mode</dt>
<dd>Users want to edit a control. If control value changes, users may want to reload changes.
Users may want theirs changes to be applied dynamically or not.
In other words, it can be considered as a &quot;read/write&quot; widget with options to enable both <a class="reference internal" href="#term-auto-read-mode"><em class="xref std std-term">auto-read mode</em></a> mode and <a class="reference internal" href="#term-auto-apply-mode"><em class="xref std std-term">auto-apply mode</em></a>.</dd>
<dt id="term-auto-read-mode">auto-read mode</dt>
<dd>If widget has auto-read mode enabled: if value changes, view is automatically refreshed to display new value.</dd>
<dt id="term-auto-apply-mode">auto-apply mode</dt>
<dd>If widget has auto-apply mode enabled: each time users modify data in the view, changes are automatically applied to object being edited.</dd>
<dt id="term-control-shape">control shape</dt>
<dd><p class="first">shape supported by a control editor or viewer:</p>
<ul class="last simple">
<li>hline: widget fits well in an horizontal line for example in a cell in a table or spreadsheet, in a 200x20px widget, ...</li>
<li>vline: widget fits well in a vertical line, for example in 20x200px widget</li>
<li>small: widget fits well in a small squared widget (100x100 px to 300x300 px)</li>
<li>large: widget fits well in large space (&gt; 300x300 px)</li>
<li>responsive: widget can fit well in all shapes and sizes. Hardest to create but easiest to use.</li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="id1">
<h3>Details<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="openalea.oalab.plugins.control.ControlWidgetSelectorPlugin">
<em class="property">class </em><tt class="descclassname">openalea.oalab.plugins.control.</tt><tt class="descname">ControlWidgetSelectorPlugin</tt><a class="headerlink" href="#openalea.oalab.plugins.control.ControlWidgetSelectorPlugin" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="core.plugin.control.ControlWidgetSelectorPlugin">
<em class="property">class </em><tt class="descclassname">core.plugin.control.</tt><tt class="descname">ControlWidgetSelectorPlugin</tt><a class="reference internal" href="../../../../../_modules/core/plugin/control.html#ControlWidgetSelectorPlugin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#core.plugin.control.ControlWidgetSelectorPlugin" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></a></p>
<dl class="classmethod">
<dt id="core.plugin.control.ControlWidgetSelectorPlugin.load">
<em class="property">classmethod </em><tt class="descname">load</tt><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/core/plugin/control.html#ControlWidgetSelectorPlugin.load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#core.plugin.control.ControlWidgetSelectorPlugin.load" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="core.plugin.control.ControlWidgetSelectorPlugin.controls">
<tt class="descname">controls</tt><em class="property"> = []</em><a class="headerlink" href="#core.plugin.control.ControlWidgetSelectorPlugin.controls" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="core.plugin.control.ControlWidgetSelectorPlugin.create_shape">
<tt class="descname">create_shape</tt><em class="property"> = []</em><a class="headerlink" href="#core.plugin.control.ControlWidgetSelectorPlugin.create_shape" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="core.plugin.control.ControlWidgetSelectorPlugin.edit_shape">
<tt class="descname">edit_shape</tt><em class="property"> = []</em><a class="headerlink" href="#core.plugin.control.ControlWidgetSelectorPlugin.edit_shape" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="core.plugin.control.ControlWidgetSelectorPlugin.icon_path">
<tt class="descname">icon_path</tt><em class="property"> = None</em><a class="headerlink" href="#core.plugin.control.ControlWidgetSelectorPlugin.icon_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="core.plugin.control.ControlWidgetSelectorPlugin.name">
<tt class="descname">name</tt><em class="property"> = 'ControlWidget'</em><a class="headerlink" href="#core.plugin.control.ControlWidgetSelectorPlugin.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="core.plugin.control.ControlWidgetSelectorPlugin.paint">
<tt class="descname">paint</tt><em class="property"> = False</em><a class="headerlink" href="#core.plugin.control.ControlWidgetSelectorPlugin.paint" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="core.plugin.control.ControlWidgetSelectorPlugin.view_shape">
<tt class="descname">view_shape</tt><em class="property"> = []</em><a class="headerlink" href="#core.plugin.control.ControlWidgetSelectorPlugin.view_shape" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="core.plugin.control.IConstraintWidget">
<em class="property">class </em><tt class="descclassname">core.plugin.control.</tt><tt class="descname">IConstraintWidget</tt><span class="sig-paren">(</span><em>**kargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/core/plugin/control.html#IConstraintWidget"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#core.plugin.control.IConstraintWidget" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../../../../../openalea/core/doc/user/autosum.html#openalea.core.interface.IInterface" title="openalea.core.interface.IInterface"><tt class="xref py py-class docutils literal"><span class="pre">openalea.core.interface.IInterface</span></tt></a></p>
<dl class="method">
<dt id="core.plugin.control.IConstraintWidget.constraints">
<tt class="descname">constraints</tt><span class="sig-paren">(</span><em>interface=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/core/plugin/control.html#IConstraintWidget.constraints"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#core.plugin.control.IConstraintWidget.constraints" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dict &quot;constraint name&quot; -&gt; &quot;value&quot;</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="core.plugin.control.IControlWidget">
<em class="property">class </em><tt class="descclassname">core.plugin.control.</tt><tt class="descname">IControlWidget</tt><a class="reference internal" href="../../../../../_modules/core/plugin/control.html#IControlWidget"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#core.plugin.control.IControlWidget" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../../../../../openalea/core/doc/user/autosum.html#openalea.core.interface.IInterface" title="openalea.core.interface.IInterface"><tt class="xref py py-class docutils literal"><span class="pre">openalea.core.interface.IInterface</span></tt></a></p>
<p>An IControlWidget is a</p>
<dl class="method">
<dt id="core.plugin.control.IControlWidget.apply">
<tt class="descname">apply</tt><span class="sig-paren">(</span><em>control</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/core/plugin/control.html#IControlWidget.apply"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#core.plugin.control.IControlWidget.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>Update control with widget values.</p>
</dd></dl>

<dl class="method">
<dt id="core.plugin.control.IControlWidget.autoapply">
<tt class="descname">autoapply</tt><span class="sig-paren">(</span><em>control</em>, <em>auto=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/core/plugin/control.html#IControlWidget.autoapply"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#core.plugin.control.IControlWidget.autoapply" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable auto-apply mode on given control</p>
</dd></dl>

<dl class="method">
<dt id="core.plugin.control.IControlWidget.autoread">
<tt class="descname">autoread</tt><span class="sig-paren">(</span><em>control</em>, <em>auto=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/core/plugin/control.html#IControlWidget.autoread"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#core.plugin.control.IControlWidget.autoread" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable auto-read mode on given control.
Important, control passed to autoread and autoapply can be identical or different.
For example if you want to refresh view if a template changes and apply it automatically to your current control.</p>
</dd></dl>

<dl class="method">
<dt id="core.plugin.control.IControlWidget.notify">
<tt class="descname">notify</tt><span class="sig-paren">(</span><em>sender</em>, <em>event</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/core/plugin/control.html#IControlWidget.notify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#core.plugin.control.IControlWidget.notify" title="Permalink to this definition">¶</a></dt>
<dd><p>Method called when Observed control changes.
Generally, when control send an event &quot;ValueChanged&quot;, we want to
refresh widget with new value.</p>
</dd></dl>

<dl class="method">
<dt id="core.plugin.control.IControlWidget.on_value_changed">
<tt class="descname">on_value_changed</tt><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/core/plugin/control.html#IControlWidget.on_value_changed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#core.plugin.control.IControlWidget.on_value_changed" title="Permalink to this definition">¶</a></dt>
<dd><p>Method called when value changed.
This method generally read control and refresh view if <a class="reference internal" href="#term-auto-read-mode"><em class="xref std std-term">auto-read mode</em></a> is enabled.</p>
</dd></dl>

<dl class="method">
<dt id="core.plugin.control.IControlWidget.read">
<tt class="descname">read</tt><span class="sig-paren">(</span><em>control</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/core/plugin/control.html#IControlWidget.read"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#core.plugin.control.IControlWidget.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Update widget with control values</p>
</dd></dl>

<dl class="method">
<dt id="core.plugin.control.IControlWidget.reset">
<tt class="descname">reset</tt><span class="sig-paren">(</span><em>value=None</em>, <em>*kargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/core/plugin/control.html#IControlWidget.reset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#core.plugin.control.IControlWidget.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset widget to default values.</p>
</dd></dl>

<dl class="method">
<dt id="core.plugin.control.IControlWidget.set">
<tt class="descname">set</tt><span class="sig-paren">(</span><em>control</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/core/plugin/control.html#IControlWidget.set"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#core.plugin.control.IControlWidget.set" title="Permalink to this definition">¶</a></dt>
<dd><p>Use control to preset widget.
Starts to listen to control events and read control's values</p>
</dd></dl>

<dl class="method">
<dt id="core.plugin.control.IControlWidget.setValue">
<tt class="descname">setValue</tt><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/core/plugin/control.html#IControlWidget.setValue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#core.plugin.control.IControlWidget.setValue" title="Permalink to this definition">¶</a></dt>
<dd><p>Change widget value.
If your class derivates from an third-party widget, it is sometime necessary
to adapt control value type to widget supported type.
Example unicode to QString in pyqt API v1.</p>
</dd></dl>

<dl class="method">
<dt id="core.plugin.control.IControlWidget.value">
<tt class="descname">value</tt><span class="sig-paren">(</span><em>interface=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/core/plugin/control.html#IControlWidget.value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#core.plugin.control.IControlWidget.value" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns widget value.
If your class derivates from an third-party widget, it is sometime necessary
to adapt widget value type to control type.
If widget supports more than one interface, returned value depends on given interface.
If none, returns widget preferred type.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="core.plugin.control.IWidgetSelector">
<em class="property">class </em><tt class="descclassname">core.plugin.control.</tt><tt class="descname">IWidgetSelector</tt><a class="reference internal" href="../../../../../_modules/core/plugin/control.html#IWidgetSelector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#core.plugin.control.IWidgetSelector" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../../../../../openalea/core/doc/user/autosum.html#openalea.core.interface.IInterface" title="openalea.core.interface.IInterface"><tt class="xref py py-class docutils literal"><span class="pre">openalea.core.interface.IInterface</span></tt></a></p>
<dl class="classmethod">
<dt id="core.plugin.control.IWidgetSelector.create">
<em class="property">classmethod </em><tt class="descname">create</tt><span class="sig-paren">(</span><em>shape=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/core/plugin/control.html#IWidgetSelector.create"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#core.plugin.control.IWidgetSelector.create" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an instance of IControlWidget that can generate controls.</p>
</dd></dl>

<dl class="classmethod">
<dt id="core.plugin.control.IWidgetSelector.edit">
<em class="property">classmethod </em><tt class="descname">edit</tt><span class="sig-paren">(</span><em>control</em>, <em>shape=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/core/plugin/control.html#IWidgetSelector.edit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#core.plugin.control.IWidgetSelector.edit" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an instance of IControlWidget that modifies control in place.
Control can be updated continuously or on explicit user action
(click on apply button for instance)</p>
</dd></dl>

<dl class="classmethod">
<dt id="core.plugin.control.IWidgetSelector.edit_constraints">
<em class="property">classmethod </em><tt class="descname">edit_constraints</tt><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/core/plugin/control.html#IWidgetSelector.edit_constraints"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#core.plugin.control.IWidgetSelector.edit_constraints" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a widget to edit constraints.
This widget must respect <a class="reference internal" href="#core.plugin.control.IConstraintWidget" title="core.plugin.control.IConstraintWidget"><tt class="xref py py-class docutils literal"><span class="pre">IConstraintWidget</span></tt></a> interface.</p>
</dd></dl>

<dl class="classmethod">
<dt id="core.plugin.control.IWidgetSelector.paint">
<em class="property">classmethod </em><tt class="descname">paint</tt><span class="sig-paren">(</span><em>control</em>, <em>painter</em>, <em>rectangle</em>, <em>option=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/core/plugin/control.html#IWidgetSelector.paint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#core.plugin.control.IWidgetSelector.paint" title="Permalink to this definition">¶</a></dt>
<dd><p>Paints widget using painter.
This function never modify control.</p>
</dd></dl>

<dl class="classmethod">
<dt id="core.plugin.control.IWidgetSelector.snapshot">
<em class="property">classmethod </em><tt class="descname">snapshot</tt><span class="sig-paren">(</span><em>control</em>, <em>shape=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/core/plugin/control.html#IWidgetSelector.snapshot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#core.plugin.control.IWidgetSelector.snapshot" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a widget representing control</p>
</dd></dl>

<dl class="classmethod">
<dt id="core.plugin.control.IWidgetSelector.view">
<em class="property">classmethod </em><tt class="descname">view</tt><span class="sig-paren">(</span><em>control</em>, <em>shape=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/core/plugin/control.html#IWidgetSelector.view"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#core.plugin.control.IWidgetSelector.view" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an instance of IControlWidget that view control.
This function never modify control.
If you finally want to modify it, you can call &quot;apply&quot; explicitly.</p>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-core.plugin.interface">
<span id="core-plugin-interface-module"></span><h2>core.plugin.interface module<a class="headerlink" href="#module-core.plugin.interface" title="Permalink to this headline">¶</a></h2>
<div class="section" id="interface-plugin-documentation">
<h3>interface plugin documentation<a class="headerlink" href="#interface-plugin-documentation" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id2">
<h4>Details<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h4>
<dl class="class">
<dt id="core.plugin.interface.IPluginInterface">
<em class="property">class </em><tt class="descclassname">core.plugin.interface.</tt><tt class="descname">IPluginInterface</tt><a class="reference internal" href="../../../../../_modules/core/plugin/interface.html#IPluginInterface"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#core.plugin.interface.IPluginInterface" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></a></p>
<p>group of interfaces</p>
<dl class="attribute">
<dt id="core.plugin.interface.IPluginInterface.interfaces">
<tt class="descname">interfaces</tt><em class="property"> = []</em><a class="headerlink" href="#core.plugin.interface.IPluginInterface.interfaces" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
</div>
</div>
<div class="section" id="module-core.plugin.lab">
<span id="core-plugin-lab-module"></span><h2>core.plugin.lab module<a class="headerlink" href="#module-core.plugin.lab" title="Permalink to this headline">¶</a></h2>
<div class="section" id="openalealab-s-extensions">
<h3>OpenAleaLab's extensions<a class="headerlink" href="#openalealab-s-extensions" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id3">
<h4>Details<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h4>
<dl class="class">
<dt id="core.plugin.lab.IPluginLab">
<em class="property">class </em><tt class="descclassname">core.plugin.lab.</tt><tt class="descname">IPluginLab</tt><a class="reference internal" href="../../../../../_modules/core/plugin/lab.html#IPluginLab"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#core.plugin.lab.IPluginLab" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></a></p>
<dl class="attribute">
<dt id="core.plugin.lab.IPluginLab.name">
<tt class="descname">name</tt><em class="property"> = 'xyz'</em><a class="headerlink" href="#core.plugin.lab.IPluginLab.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
</div>
</div>
<div class="section" id="module-core.plugin.manager">
<span id="core-plugin-manager-module"></span><h2>core.plugin.manager module<a class="headerlink" href="#module-core.plugin.manager" title="Permalink to this headline">¶</a></h2>
<p>This plugin manager is inspired by nose PluginManager(s) released under LGPL license.
You can get a full copy of this license on nosetest repository:<a class="reference external" href="https://github.com/nose-devs/nose/blob/master/lgpl.txt">lgpl.txt</a>
You can get original nose code on <a class="reference external" href="https://github.com/nose-devs/nose/blob/master/nose/plugins/manager.py">github</a></p>
<div class="section" id="plugin-manager">
<h3>Plugin Manager<a class="headerlink" href="#plugin-manager" title="Permalink to this headline">¶</a></h3>
<p>A plugin manager class is used to load plugins, search among it and manage the list of loaded plugins.
Plugins are loaded from entry points or can be added dynamically to manager.</p>
<blockquote>
<div><ul class="simple">
<li>To <em>list</em> plugins, see <a class="reference internal" href="#core.plugin.manager.PluginManager.plugin" title="core.plugin.manager.PluginManager.plugin"><tt class="xref py py-meth docutils literal"><span class="pre">PluginManager.plugin()</span></tt></a> and <a class="reference internal" href="#core.plugin.manager.PluginManager.plugins" title="core.plugin.manager.PluginManager.plugins"><tt class="xref py py-meth docutils literal"><span class="pre">PluginManager.plugins()</span></tt></a>.</li>
<li>To <em>add</em> plugins dynamically, see <a class="reference internal" href="#core.plugin.manager.PluginManager.add_plugin" title="core.plugin.manager.PluginManager.add_plugin"><tt class="xref py py-meth docutils literal"><span class="pre">PluginManager.add_plugin()</span></tt></a> and <a class="reference internal" href="#core.plugin.manager.PluginManager.add_plugins" title="core.plugin.manager.PluginManager.add_plugins"><tt class="xref py py-meth docutils literal"><span class="pre">PluginManager.add_plugins()</span></tt></a>.</li>
</ul>
</div></blockquote>
<p>All plugin are sorted in categories, each category defining a contract.
This contract is generally described in an interface class or documentation.</p>
<p>If you want to use third party plugins that doesn't fit perfectly to your contract,
you can embed its in plugin proxies.
To do that, you can specify a proxy class for an entire category or for one plugin.
See <a class="reference internal" href="#core.plugin.manager.PluginManager.set_proxy" title="core.plugin.manager.PluginManager.set_proxy"><tt class="xref py py-meth docutils literal"><span class="pre">PluginManager.set_proxy()</span></tt></a> and &quot;plugin_proxy&quot; parameter in <a class="reference internal" href="#core.plugin.manager.PluginManager.add_plugin" title="core.plugin.manager.PluginManager.add_plugin"><tt class="xref py py-meth docutils literal"><span class="pre">PluginManager.add_plugin()</span></tt></a>.</p>
<dl class="class">
<dt id="core.plugin.manager.PluginManager">
<em class="property">class </em><tt class="descclassname">core.plugin.manager.</tt><tt class="descname">PluginManager</tt><span class="sig-paren">(</span><em>plugins=None</em>, <em>plugin_proxy=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/core/plugin/manager.html#PluginManager"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#core.plugin.manager.PluginManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></a></p>
<dl class="method">
<dt id="core.plugin.manager.PluginManager.add_plugin">
<tt class="descname">add_plugin</tt><span class="sig-paren">(</span><em>category</em>, <em>plugin</em>, <em>plugin_proxy=None</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/core/plugin/manager.html#PluginManager.add_plugin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#core.plugin.manager.PluginManager.add_plugin" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="core.plugin.manager.PluginManager.add_plugins">
<tt class="descname">add_plugins</tt><span class="sig-paren">(</span><em>plugins=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/core/plugin/manager.html#PluginManager.add_plugins"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#core.plugin.manager.PluginManager.add_plugins" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="core.plugin.manager.PluginManager.clear">
<tt class="descname">clear</tt><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/core/plugin/manager.html#PluginManager.clear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#core.plugin.manager.PluginManager.clear" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="core.plugin.manager.PluginManager.discover">
<tt class="descname">discover</tt><span class="sig-paren">(</span><em>category</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/core/plugin/manager.html#PluginManager.discover"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#core.plugin.manager.PluginManager.discover" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="core.plugin.manager.PluginManager.plugin">
<tt class="descname">plugin</tt><span class="sig-paren">(</span><em>category</em>, <em>name=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/core/plugin/manager.html#PluginManager.plugin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#core.plugin.manager.PluginManager.plugin" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all plugins available for this category.</p>
</dd></dl>

<dl class="method">
<dt id="core.plugin.manager.PluginManager.plugins">
<tt class="descname">plugins</tt><span class="sig-paren">(</span><em>category</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/core/plugin/manager.html#PluginManager.plugins"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#core.plugin.manager.PluginManager.plugins" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all plugins available for this category.</p>
</dd></dl>

<dl class="method">
<dt id="core.plugin.manager.PluginManager.set_proxy">
<tt class="descname">set_proxy</tt><span class="sig-paren">(</span><em>category</em>, <em>plugin_proxy</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/core/plugin/manager.html#PluginManager.set_proxy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#core.plugin.manager.PluginManager.set_proxy" title="Permalink to this definition">¶</a></dt>
<dd><p>Embed all plugin for given category in plugin_proxy.</p>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-core.plugin.plugin">
<span id="core-plugin-plugin-module"></span><h2>core.plugin.plugin module<a class="headerlink" href="#module-core.plugin.plugin" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="core.plugin.plugin.Plugin">
<em class="property">class </em><tt class="descclassname">core.plugin.plugin.</tt><tt class="descname">Plugin</tt><span class="sig-paren">(</span><em>epoint</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/core/plugin/plugin.html#Plugin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#core.plugin.plugin.Plugin" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></a></p>
<p>Define a Plugin from an entry point.</p>
<dl class="method">
<dt id="core.plugin.plugin.Plugin.load">
<tt class="descname">load</tt><span class="sig-paren">(</span><em>*args</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/core/plugin/plugin.html#Plugin.load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#core.plugin.plugin.Plugin.load" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="core.plugin.plugin.Plugin.dist">
<tt class="descname">dist</tt><a class="reference internal" href="../../../../../_modules/core/plugin/plugin.html#Plugin.dist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#core.plugin.plugin.Plugin.dist" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="core.plugin.plugin.Plugin.module_name">
<tt class="descname">module_name</tt><a class="reference internal" href="../../../../../_modules/core/plugin/plugin.html#Plugin.module_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#core.plugin.plugin.Plugin.module_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="core.plugin.plugin.Plugin.name">
<tt class="descname">name</tt><a class="reference internal" href="../../../../../_modules/core/plugin/plugin.html#Plugin.name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#core.plugin.plugin.Plugin.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="core.plugin.plugin.discover">
<tt class="descclassname">core.plugin.plugin.</tt><tt class="descname">discover</tt><span class="sig-paren">(</span><em>group</em>, <em>name=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/core/plugin/plugin.html#discover"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#core.plugin.plugin.discover" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all Plugin objects from group.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li>group : the name of a plugin group</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="first simple">
<li>plugins : dict of name:plugin</li>
</ul>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Todo:</th><td class="field-body"><p class="first last">check that the same name is not used by several plugins</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="core.plugin.plugin.iter_groups">
<tt class="descclassname">core.plugin.plugin.</tt><tt class="descname">iter_groups</tt><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/core/plugin/plugin.html#iter_groups"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#core.plugin.plugin.iter_groups" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="core.plugin.plugin.iter_plugins">
<tt class="descclassname">core.plugin.plugin.</tt><tt class="descname">iter_plugins</tt><span class="sig-paren">(</span><em>group</em>, <em>name=None</em>, <em>debug=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/core/plugin/plugin.html#iter_plugins"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#core.plugin.plugin.iter_plugins" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-core.plugin">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-core.plugin" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>To define a new extension for OpenAleaLab (ex: MyApplet) corresponding to a category (ex: oalab.applet) , you must</dt>
<dd><ol class="first last arabic simple">
<li>write a Plugin class (ex: &quot;PluginMyApplet&quot;) that respects a special &quot;IPlugin&quot; interface (ex: IPluginApplet)</li>
<li>write or use a class that actually does the job (ex: MyApplet) that respects a special &quot;interface&quot; (ex: IApplet)</li>
<li>add it to the right &quot;entry_point&quot; (ex: oalab.applet)</li>
</ol>
</dd>
</dl>
<p>Interfaces and entry_points are described in plugin documentation.
Generally, a plugin code looks like:</p>
<div class="highlight-python"><div class="code-block-filename"><tt>ex: mypackage/plugin/applet.py</tt></div><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">class</span> <span class="nc">PluginMyApplet</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;MyApplet&#39;</span>
    <span class="n">alias</span> <span class="o">=</span> <span class="s">&#39;My Applet&#39;</span>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">mypackage.gui.applet.myapplet</span> <span class="kn">import</span> <span class="n">MyApplet</span>
        <span class="k">return</span> <span class="n">MyApplet</span>
</pre></div>
</td></tr></table></div>
<p>Once this class has been written, just register it in the setup.py file of your python package.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">entry_points</span><span class="o">=</span><span class="p">{</span>
    <span class="s">&#39;oalab.applet&#39;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s">&#39;MyApplet = mypackage.plugin.applet:PluginMyApplet&#39;</span><span class="p">,</span>
        <span class="p">]</span>
    <span class="p">}</span>
</pre></div>
</div>
<p>With <strong>mypackage.plugin.applet</strong> python module path (equivalent to 'mypackage/plugin/applet.py').</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../../../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">core.plugin package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-core.plugin.applet">core.plugin.applet module</a><ul>
<li><a class="reference internal" href="#applets">Applets</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#example">Example</a></li>
<li><a class="reference internal" href="#details">Details</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-core.plugin.control">core.plugin.control module</a><ul>
<li><a class="reference internal" href="#control-advanced">Control - Advanced</a><ul>
<li><a class="reference internal" href="#widget">Widget</a></li>
<li><a class="reference internal" href="#widget-selector">Widget selector</a></li>
<li><a class="reference internal" href="#iint-control-widget">IInt control widget</a></li>
</ul>
</li>
<li><a class="reference internal" href="#glossary">Glossary</a></li>
<li><a class="reference internal" href="#id1">Details</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-core.plugin.interface">core.plugin.interface module</a><ul>
<li><a class="reference internal" href="#interface-plugin-documentation">interface plugin documentation</a><ul>
<li><a class="reference internal" href="#id2">Details</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-core.plugin.lab">core.plugin.lab module</a><ul>
<li><a class="reference internal" href="#openalealab-s-extensions">OpenAleaLab's extensions</a><ul>
<li><a class="reference internal" href="#id3">Details</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-core.plugin.manager">core.plugin.manager module</a><ul>
<li><a class="reference internal" href="#plugin-manager">Plugin Manager</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-core.plugin.plugin">core.plugin.plugin module</a></li>
<li><a class="reference internal" href="#module-core.plugin">Module contents</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="core.interpreter.html"
                        title="previous chapter">core.interpreter package</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="core.project.html"
                        title="next chapter">core.project package</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../../../../_sources/latest/dev/archi/apidoc/core/core.plugin.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="core.project.html" title="core.project package"
             >next</a> |</li>
        <li class="right" >
          <a href="core.interpreter.html" title="core.interpreter package"
             >previous</a> |</li>
        <li><a href="../../../../../index.html">OpenAlea community website</a> &raquo;</li>
          <li><a href="../../index.html" >OpenAleaLab API and concepts</a> &raquo;</li>
          <li><a href="core.html" >core package</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2014, INRIA VirtualPlants.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3a0.
    </div>
  </body>
</html>