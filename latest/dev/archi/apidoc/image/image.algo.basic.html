<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>&lt;no title&gt; &mdash; OpenAlea community website</title>
    
    <link rel="stylesheet" href="../../../../../_static/virtualplants.css" type="text/css" />
    <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../../../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../../../_static/doctools.js"></script>
    <link rel="top" title="OpenAlea community website" href="../../../../../index.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../../../index.html">OpenAlea community website</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <span class="target" id="module-image.algo.basic"></span><p>This module import functions to manipulate images</p>
<dl class="function">
<dt id="image.algo.basic.bounding_box">
<code class="descclassname">image.algo.basic.</code><code class="descname">bounding_box</code><span class="sig-paren">(</span><em>mask</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/image/algo/basic.html#bounding_box"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#image.algo.basic.bounding_box" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the bounding box of a mask</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><cite>mask</cite> (array of bool) - a nd array of booleans</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a slice (ind_min,ind_max) for each dimension of the mask or None
if the mask do not contain any True value.
Where ind_min correspond to the first slice that contains a True
value and ind_max correspond to the first slice that contains
only False after slices that contain at least one True value</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns Type:</th><td class="field-body"><p class="first last">list of (int,int)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="image.algo.basic.apply_mask">
<code class="descclassname">image.algo.basic.</code><code class="descname">apply_mask</code><span class="sig-paren">(</span><em>img</em>, <em>mask</em>, <em>background_color=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/image/algo/basic.html#apply_mask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#image.algo.basic.apply_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply a mask on a given image</p>
<p>If background_color is None, the mask is applied as the alpha channel in
image. Pixels whose value is True will have an alpha value of 255 and others
will have an alpha value of 0</p>
<p>Else, pixels whose value is True will conserve their original color and
others will have a color equal to background color</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><cite>img</cite> (NxM(xP)x3(4) array of uint8)</li>
<li><cite>mask</cite> (NxM(xP) array of bool)</li>
<li><cite>background_color</cite> (int,int,int,(int) )</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns Type:</th><td class="field-body"><p class="first last">(NxM(xP)x3(4) array of uint8)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="image.algo.basic.flatten">
<code class="descclassname">image.algo.basic.</code><code class="descname">flatten</code><span class="sig-paren">(</span><em>img_list</em>, <em>alpha=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/image/algo/basic.html#flatten"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#image.algo.basic.flatten" title="Permalink to this definition">¶</a></dt>
<dd><p>Concatenate all images into a single image</p>
<p>Use alpha to blend images one on top of each other</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">all images must have the same nD shape
and an alpha channel (except maybe for the first one)</p>
</div>
<p>If alpha is True, the resulting image will use the max of all alpha channels
as an alpha channel.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">if the first image is a <a href="#id3"><span class="problematic" id="id4">|SpatialImage|</span></a>, the resulting image will
also be a <a href="#id5"><span class="problematic" id="id6">|SpatialImage|</span></a> but no test is made to ensure
consistency in the resolution of the layers</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><cite>img_list</cite> (list of NxM(xP)x4 array of uint8)</li>
<li><cite>alpha</cite> (bool) - the resulting image will have an alpha channel or not</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns Type:</th><td class="field-body"><p class="first last">NxM(xP)x3(4) array of uint8</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="image.algo.basic.saturate">
<code class="descclassname">image.algo.basic.</code><code class="descname">saturate</code><span class="sig-paren">(</span><em>img</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/image/algo/basic.html#saturate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#image.algo.basic.saturate" title="Permalink to this definition">¶</a></dt>
<dd><p>Saturate colors in the image</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><cite>img</cite> (NxM(xP)x3(4) array of uint8)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns Type:</th><td class="field-body"><p class="first last">NxM(xP)x3(4) array of uint8</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="image.algo.basic.high_level">
<code class="descclassname">image.algo.basic.</code><code class="descname">high_level</code><span class="sig-paren">(</span><em>img</em>, <em>threshold</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/image/algo/basic.html#high_level"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#image.algo.basic.high_level" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a mask where all pixel whose intensity is smaller than threshold
are transparent.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><cite>img</cite> (NxM(xP)x3(4) array of uint8)</li>
<li><cite>threshold</cite> (int between 0 and 255)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns Type:</th><td class="field-body"><p class="first last">NxM(xP) array of bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="image.algo.basic.color_select">
<code class="descclassname">image.algo.basic.</code><code class="descname">color_select</code><span class="sig-paren">(</span><em>img</em>, <em>color</em>, <em>tol</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/image/algo/basic.html#color_select"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#image.algo.basic.color_select" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a mask to conserve only colors
around the given color.</p>
<p><span class="xref std std-ref">http://en.wikipedia.org/wiki/Color_difference</span></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first">
<li><p class="first"><cite>img</cite> (NxM(xP)x3(4) array of uint8)</p>
</li>
<li><p class="first"><a href="#id1"><span class="problematic" id="id2">`</span></a>color (int,int,int) - R,G,B color</p>
</li>
<li><dl class="first docutils">
<dt><cite>tol</cite> (int between 0 and 100) - distance max between a pixel and color</dt>
<dd><p class="first last">to be conserved</p>
</dd>
</dl>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns Type:</th><td class="field-body"><p class="first last">NxM(xP) array of bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="image.algo.basic.border">
<code class="descclassname">image.algo.basic.</code><code class="descname">border</code><span class="sig-paren">(</span><em>img</em>, <em>(x_min</em>, <em>y_min</em>, <em>z_min)=(0</em>, <em>0</em>, <em>0)</em>, <em>(x_max</em>, <em>y_max</em>, <em>z_max)=(0</em>, <em>0</em>, <em>0)</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/image/algo/basic.html#border"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#image.algo.basic.border" title="Permalink to this definition">¶</a></dt>
<dd><p>A border is a outside black space that can be added to an array object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><cite>img</cite> ( NxMxP array)</li>
<li><cite>x_min, y_min, z_min</cite> (int, int,int) - The begining of the border</li>
<li><cite>x_max, y_max, z_max</cite> (int, int, int) - The end of the border</li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns Type:</th><td class="field-body">(N+x_min+x_max) x (M+y_min+y_max) x (P+z_min+z_max) array</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="image.algo.basic.end_margin">
<code class="descclassname">image.algo.basic.</code><code class="descname">end_margin</code><span class="sig-paren">(</span><em>img</em>, <em>width</em>, <em>axis=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/image/algo/basic.html#end_margin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#image.algo.basic.end_margin" title="Permalink to this definition">¶</a></dt>
<dd><p>A end margin is a inside black space that can be added into the end of array object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><cite>img</cite> ( NxMxP array)</li>
<li><cite>width</cite> (int) - size of the margin</li>
<li><cite>axis</cite> (int optional) - axis along which the margin is added.</li>
</ul>
<p>By default, add in all directions (see also stroke).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns Type:</th><td class="field-body">img</td>
</tr>
</tbody>
</table>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">openalea.image</span> <span class="kn">import</span> <span class="n">end_margin</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>

<span class="n">out</span> <span class="o">=</span> <span class="n">end_margin</span><span class="p">(</span><span class="n">img</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">out</span><span class="o">.</span><span class="n">shape</span> <span class="o">==</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>

<span class="k">assert</span> <span class="p">(</span><span class="n">out</span><span class="p">[</span><span class="mi">2</span><span class="p">,:,:]</span> <span class="o">==</span> <span class="n">zeros</span><span class="p">((</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">)))</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
<span class="k">assert</span> <span class="p">(</span><span class="n">out</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">2</span><span class="p">,:,:]</span> <span class="o">==</span> <span class="n">img</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">2</span><span class="p">,:,:]</span>  <span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>

<span class="n">out</span> <span class="o">=</span> <span class="n">end_margin</span><span class="p">(</span><span class="n">img</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">out</span><span class="o">.</span><span class="n">shape</span> <span class="o">==</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>

<span class="k">assert</span> <span class="p">(</span><span class="n">out</span><span class="p">[:,</span><span class="mi">3</span><span class="p">,:]</span> <span class="o">==</span> <span class="n">zeros</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">)))</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
<span class="k">assert</span> <span class="p">(</span><span class="n">out</span><span class="p">[:,</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">,:]</span> <span class="o">==</span> <span class="n">img</span><span class="p">[:,</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">,:]</span> <span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
</dd></dl>

<dl class="function">
<dt id="image.algo.basic.stroke">
<code class="descclassname">image.algo.basic.</code><code class="descname">stroke</code><span class="sig-paren">(</span><em>img</em>, <em>width</em>, <em>outside=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/image/algo/basic.html#stroke"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#image.algo.basic.stroke" title="Permalink to this definition">¶</a></dt>
<dd><p>A stroke is an outline that can be added to an array object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><cite>img</cite> ( NxMxP array)</li>
<li><cite>width</cite> (int) - size of the stroke</li>
<li><cite>outside</cite> (bool optional) - used to set the position of the stroke.</li>
</ul>
<p>By default, the position of the stroke is inside (outside = False)</p>
<p>:Return Type : img</p>
</dd></dl>

<dl class="function">
<dt id="image.algo.basic.reverse_image">
<code class="descclassname">image.algo.basic.</code><code class="descname">reverse_image</code><span class="sig-paren">(</span><em>image</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/image/algo/basic.html#reverse_image"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#image.algo.basic.reverse_image" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="image.algo.basic.color2grey">
<code class="descclassname">image.algo.basic.</code><code class="descname">color2grey</code><span class="sig-paren">(</span><em>image</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/image/algo/basic.html#color2grey"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#image.algo.basic.color2grey" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a color image into a grey-level image.</p>
</dd></dl>

<dl class="function">
<dt id="image.algo.basic.grey2color">
<code class="descclassname">image.algo.basic.</code><code class="descname">grey2color</code><span class="sig-paren">(</span><em>r</em>, <em>g</em>, <em>b</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/image/algo/basic.html#grey2color"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#image.algo.basic.grey2color" title="Permalink to this definition">¶</a></dt>
<dd><p>convert a grey-level image into a color image.</p>
</dd></dl>

<dl class="function">
<dt id="image.algo.basic.logicalnot">
<code class="descclassname">image.algo.basic.</code><code class="descname">logicalnot</code><span class="sig-paren">(</span><em>img</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/image/algo/basic.html#logicalnot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#image.algo.basic.logicalnot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="image.algo.basic.scale_shift_intensities">
<code class="descclassname">image.algo.basic.</code><code class="descname">scale_shift_intensities</code><span class="sig-paren">(</span><em>image</em>, <em>dtype=None</em>, <em>maxIn=None</em>, <em>maxOut=255</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/image/algo/basic.html#scale_shift_intensities"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#image.algo.basic.scale_shift_intensities" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>



          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../../../../_sources/latest/dev/archi/apidoc/image/image.algo.basic.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../../../index.html">OpenAlea community website</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2014, INRIA VirtualPlants.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>